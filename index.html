<!doctype html>

<html>

	<head>

		<title>Debt Tracker v1.0</title>
		<link rel="stylesheet" href="css/style.css"/>

	</head>

	<body>

		<script type="text/x-handlebars" data-template-name="Debttracker">

		<section id="debtCollectorApp">

			<div id="header">

				<h1>Debt Tracker App</h1>

			</div>

			<section id="inputSection">

				{{input type="text" value=newFirstName placeholder="First Name" action="addNewDebt"}}
				{{input type="text" value=newLastName placeholder="Last Name" action="addNewDebt"}}
				{{input type="text" value=newDebt placeholder="Debt"}}
				{{input type="text" value=newDate placeholder="Date"}}
				<button {{action "addNewDebt"}}>Add</button>

			</section>

			<section id="dataSection">

				<table id="debtTable">

					<thead id="debtTableHeader">

						<th>Name</th>
						<th>Debt</th>
						<th>Logs</th>
						<th class="opaque"></th>

					<thead>

					<tbody id="debtTableBody">

						{{#each itemController="debttrackerinstance"}}

							<tr class="selectRow" {{action "enterEditMode" on="doubleClick"}}>

								{{#if isEditMode}}

									<td class="name">

										{{input type="text" value=firstName action="saveName" placeholder="First Name"}}
										{{input type="text" value=lastName action="saveName" placeholder="Last Name"}}

									</td>
									<td class="money">

										{{input type="text" value=cashAdjustment placeholder="Adjustment"}}
										{{input type="text" value=adjustmentDate placeholder="Date"}}
										<button class="adjustmentsButton" {{ action "saveCredit" on="click"}}>Credit</button>
										<button class="adjustmentsButton"  {{ action "saveDebit" on="click"}}>Debit</button>
										<span class="informative">Current Balance: {{debt}}</span>

									</td>

								{{else}}

									<td class="name">{{fullName}}</td>
									<td class="money">{{debt}}</td>

								{{/if}}

									<td class="log">

										<ul>

											{{#each getLogs}}

												<li>{{this}}</li>

											{{/each}}

										</ul>

									</td>
									<td class="opaque"><button {{action "deleteRecord" on="click"}}>X</button></td>

							</tr>

						{{/each}}
						
					</tbody>

				</table>

			</section>

			<div id="footer">

				<span>Copyright 2015</span>

			</div>

		</section>

		</script>

		<script src="js/lib/jquery-1.10.2.min.js"></script>
		<script src="js/lib/handlebars-1.0.0.js"></script>
		<script src="js/lib/ember.js"></script>
		<script src="js/lib/ember-data.js"></script>
		<script src="js/application.js"></script>
		<script src="js/model/debtor.js"></script>
		<script src="js/route/debttracker_route.js"></script>
		<script src="js/router.js"></script>
		<script src="js/controller/debttracker_controller.js"></script>
		<script src="js/controller/debttrackerinstance_controller.js"></script>
		<script src="js/view/debttrackertextfield_view.js"></script>
				
	</body>

</html>